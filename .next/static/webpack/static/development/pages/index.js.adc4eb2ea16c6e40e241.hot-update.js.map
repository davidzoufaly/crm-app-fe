{"version":3,"file":"static/webpack/static/development/pages/index.js.adc4eb2ea16c6e40e241.hot-update.js","sources":["webpack:///./components/homepage/login/LoginButton.tsx","webpack:///./components/homepage/login/LoginForm.tsx","webpack:///./pages/index.tsx"],"sourcesContent":["const LoginButton = ({onLogin}) => (\n    <button type=\"button\" onClick={onLogin}>Login</button>\n)\nexport default LoginButton;","import { useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport UserContext from \"../../UserContext\";\nimport UsernameInput from \"../UsernameInput\";\nimport PasswordInput from \"../PasswordInput\";\nimport LoginButton from \"./LoginButton\";\nimport globalVars from \"../../../library/globalVariables\";\n\nconst LoginForm = () => {\n    const [user, setUser] = useState({username : \"\", password : \"\" });\n    const userContext = useContext(UserContext);\n\n    const onChange = (e) => {\n        e.target.name === \"username\"\n            ? setUser({...user, username: e.target.value})\n            : setUser({...user, password: e.target.value})\n    }\n\n    const onLogin = async() => {\n        const userRes = await axios({\n            method: \"POST\",\n            data: user,\n            url: `${globalVars.serverURL}/users`,\n            responseType: \"json\"\n        })\n        const userData = await userRes.data;\n        if(userData.msg === \"Success\") {\n            userContext.setUser(user.username);\n        } else {\n            alert(\"Incorrect username or password\")\n        }\n    }\n\n    return (\n        <>  \n            <form>\n                <UsernameInput onChange={onChange} username={user.username}/>\n                <PasswordInput onChange={onChange} password={user.password}/>\n                <LoginButton onLogin={onLogin} />\n            </form>\n        </>\n    )\n}\n\nexport default LoginForm;","import { useContext } from \"react\";\nimport Link from \"next/link\"\nimport LoginForm from \"../components/homepage/login/LoginForm\";\nimport UserContext from \"../components/UserContext\";\nimport languages from \"../library/languages\";\n\nconst Index = () => {\n  const user = useContext(UserContext);\n\n  return !user.user.signedIn\n    ? (\n    <div>\n      <h1>Welcome in my CRM-APP</h1>\n      <LoginForm />\n    </div>\n    )\n    : (\n      <>\n      <Link href=\"/dashboard\">\n        <a>{languages.en.goTo} {languages.en.dashboard}</a>\n      </Link>\n      <button onClick={() => user.logoutUser()}>{languages.en.logout}</button>\n      </>\n    )\n};\n\nexport default Index;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AACA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AADA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AACA;AAFA;AACA;AADA;AAAA;AACA;AADA;AAOA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAcA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;A","sourceRoot":""}