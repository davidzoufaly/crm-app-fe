{"version":3,"file":"static/webpack/static/development/pages/clients/[id].js.6b434089c7c047acb9f7.hot-update.js","sources":["webpack:///./pages/clients/.tsx"],"sourcesContent":["import Header from \"../../components/Header\";\nimport axios from \"axios\";\nimport { useRouter } from \"next/router\";\nimport { useEffect, useState } from \"react\";\nimport globalVars from \"../../library/globalVariables\";\nimport SingleClientData from \"../../components/SingleClientData\";\nimport ButtonsSingle from \"../../components/singleClient/ButtonsSingle\";\n\n//TODO: SKRÝVÁNÍ POLÍ CO NEJSOU V DB\n\nconst Client = ({ clientData, fieldsData }: any) => {\n  const [client, setClient] = useState(clientData);\n  const { firstName, lastName } = clientData;\n  const [initialized, setInitialized] = useState(false);\n  const router = useRouter();\n\n  useEffect(() => {\n    document.title = `${firstName} ${lastName} ${globalVars.titleSubText}`;\n    // console.log(clientData);\n    // console.log(fieldsData)\n    setInitialized(true);\n  });\n\n  const onSave = async (e) => {\n    e.preventDefault();\n    console.log(router.query)\n    // const clientSaveRes = await axios({\n    //   method: \"post\",\n    //   data: client,\n    //   url: `${globalVars.serverURL}/client/${router.query}`,\n    //   responseType: \"json\"\n    // });\n    // const clientSaveData = await clientSaveRes.data;\n\n    // clientSaveData.msg === \"Success\"\n    //   ? router.push(router.pathname)\n    //   : console.error(\"Something went wrong!\");\n  };\n\n  const onInputChange = e => {\n    setClient({\n      ...client,\n      [e.target.name]:\n        e.target.type === \"number\" ? parseInt(e.target.value) : e.target.value\n    });\n  };\n\n  return !initialized ? (\n    \"Loading...\"\n  ) : (\n    <div>\n      <Header />\n      <h1>\n        {firstName} {lastName}\n      </h1>\n      <form onSubmit={onSave}>\n        <ul>\n          <SingleClientData\n            fieldsData={fieldsData}\n            client={client}\n            onInputChange={onInputChange}\n          />\n        </ul>\n      </form>\n      <ButtonsSingle />\n    </div>\n  );\n};\n\nClient.getInitialProps = async (context: any) => {\n  const { id } = context.query;\n  const resClient = await axios({\n    method: \"get\",\n    url: `${globalVars.serverURL}/clients/${id}`,\n    responseType: \"json\"\n  });\n  const clientData = await resClient.data;\n\n  const resFields = await axios({\n    method: \"get\",\n    url: `${globalVars.serverURL}/fields`,\n    responseType: \"json\"\n  });\n  const fieldsData = await resFields.data;\n\n  return { clientData, fieldsData };\n};\n\nexport default Client;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAGA;AAEA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAeA;AACA;AAKA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAGA;AACA;AACA;AAHA;AACA;AAHA;AAEA;AAFA;AAAA;AACA;AADA;AAOA;AAPA;AAAA;AAUA;AACA;AACA;AAHA;AACA;AAVA;AASA;AATA;AAAA;AACA;AADA;AAcA;AAdA;AAgBA;AAAA;AAAA;AACA;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAkBA;;;;A","sourceRoot":""}