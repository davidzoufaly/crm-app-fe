{"version":3,"file":"static/webpack/static/development/pages/clients/[id].js.c30109561679f4623533.hot-update.js","sources":["webpack:///./components/singleClient/SingleClientData.tsx","webpack:///./pages/clients/.tsx"],"sourcesContent":["import stringMethods from \"../../library/stringMethods\";\n\nconst SingleClientData = ({ fieldsData, client, onInputChange }: any) =>\n  fieldsData.map(field => {\n    switch (field.fieldType) {\n      case \"text\":\n        return (\n          <div key={field.fieldName}>\n            {new stringMethods(field.fieldName)\n              .camelStringToText()\n              .firstCharUpperCase()\n              .getString()}\n            <textarea name={field.fieldName} value={client[field.fieldName]} onChange={onInputChange}/>\n          </div>\n        );\n      case \"number\":\n        return (\n          <div key={field.fieldName}>\n            {new stringMethods(field.fieldName)\n              .camelStringToText()\n              .firstCharUpperCase()\n              .getString()}\n            <input type=\"number\" name={field.fieldName} value={client[field.fieldName]} onChange={onInputChange}/>\n          </div>\n        );\n      case \"select\":\n        return (\n          <div key={field.fieldName}>\n            {new stringMethods(field.fieldName)\n              .camelStringToText()\n              .firstCharUpperCase()\n              .getString()}\n            <select name={field.fieldName} value={client[field.fieldName]} onChange={onInputChange}>\n                <option key=\"---\">---</option>\n              {field.fieldOptions.map(option => (\n                <option key={option.id}>{option.value}</option>\n              ))}\n            </select>\n          </div>\n        );\n    }\n  });\n\nexport default SingleClientData;\n","import Header from \"../../components/Header\";\nimport axios from \"axios\";\nimport { useRouter } from \"next/router\";\nimport { useEffect, useState } from \"react\";\nimport globalVars from \"../../library/globalVariables\";\nimport SingleClientData from \"../../components/singleClient/SingleClientData\";\nimport ButtonsSingle from \"../../components/singleClient/ButtonsSingle\";\n// import Button from \"@material-ui/core/Button\";\n\nconst Client = ({ clientData, fieldsData }: any) => {\n  const [client, setClient] = useState(clientData);\n  const [name, setName] = useState(`${clientData.firstName} ${clientData.lastName}`);\n  const [initialized, setInitialized] = useState(false);\n  const router = useRouter();\n\n  useEffect(() => {\n    document.title = `${name} ${globalVars.titleSubText}`;\n    setInitialized(true);\n  });\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    setName(`${client.firstName} ${client.lastName}`);\n\n    await axios({\n      method: \"put\",\n      data: client,\n      url: `${globalVars.serverURL}/clients/${router.query.id}`,\n      responseType: \"json\"\n    });\n  };\n\n  const onInputChange = e => {\n    setClient({\n      ...client,\n      [e.target.name]:\n        e.target.type === \"number\" ? parseInt(e.target.value) : e.target.value\n    });\n  };\n\n  return !initialized ? (\n    \"Loading...\"\n  ) : (\n    <div>\n      <Header />\n      <h1>\n        {name}\n      </h1>\n      <form onSubmit={onSubmit}>\n          <SingleClientData\n            fieldsData={fieldsData}\n            client={client}\n            onInputChange={onInputChange}\n          />\n      <ButtonsSingle />\n      </form>\n    </div>\n  );\n};\n\nClient.getInitialProps = async (context: any) => {\n  const { id } = context.query;\n  const resClient = await axios({\n    method: \"get\",\n    url: `${globalVars.serverURL}/clients/${id}`,\n    responseType: \"json\"\n  });\n  const clientData = await resClient.data;\n\n  const resFields = await axios({\n    method: \"get\",\n    url: `${globalVars.serverURL}/fields`,\n    responseType: \"json\"\n  });\n  const fieldsData = await resFields.data;\n\n  return { clientData, fieldsData };\n};\n\nexport default Client;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AA9BA;AAqCA;AAvCA;AACA;AAwCA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAKA;AACA;AACA;AACA;AAJA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAWA;AACA;AAKA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAGA;AACA;AACA;AAHA;AACA;AAHA;AAEA;AAFA;AAAA;AACA;AADA;AAOA;AAPA;AAAA;AAUA;AACA;AACA;AAHA;AACA;AAVA;AASA;AATA;AAAA;AACA;AADA;AAcA;AAdA;AAgBA;AAAA;AAAA;AACA;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAkBA;;;;A","sourceRoot":""}