{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/davidzoufaly/code/dp/crm-app-fe/pages/_app.tsx\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport App from \"next/app\";\nimport Router from \"next/router\";\nimport UserContext from \"../components/UserContext\";\nimport theme from \"../src/theme\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Container from '@material-ui/core/Container';\nimport Box from '@material-ui/core/Box';\n\nvar MyApp =\n/*#__PURE__*/\nfunction (_App) {\n  _inherits(MyApp, _App);\n\n  function MyApp() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MyApp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MyApp)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      user: {\n        userkey: \"\",\n        signedIn: false\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setUser\", function (userkey) {\n      _this.setState(_objectSpread({}, _this.state, {\n        user: _objectSpread({}, _this.state.user, {\n          userkey: userkey,\n          signedIn: true\n        })\n      }));\n\n      Router.push(\"/dashboard/\".concat(_this.state.user.userkey));\n      sessionStorage.setItem(\"userkey\", _this.state.user.userkey);\n      sessionStorage.setItem(\"signedIn\", _this.state.user.signedIn.toString());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"checkUser\", function () {\n      sessionStorage.getItem(\"signedIn\") === \"false\" ? Router.push(\"/\") : _this.setState({\n        user: _objectSpread({}, _this.state.user, {\n          userkey: sessionStorage.getItem(\"userkey\"),\n          signedIn: true\n        })\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"logoutUser\", function () {\n      _this.setState(_objectSpread({}, _this.state, {\n        user: _objectSpread({}, _this.state.user, {\n          userkey: \"\",\n          signedIn: false\n        })\n      }), function () {\n        sessionStorage.setItem(\"userkey\", _this.state.user.userkey);\n        sessionStorage.setItem(\"signedIn\", _this.state.user.signedIn.toString());\n      });\n\n      Router.push(\"/\");\n    });\n\n    return _this;\n  }\n\n  _createClass(MyApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var jssStyles = document.querySelector(\"#jss-server-side\");\n\n      if (jssStyles) {\n        jssStyles.parentNode.removeChild(jssStyles);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          Component = _this$props.Component,\n          pageProps = _this$props.pageProps;\n      return __jsx(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, __jsx(UserContext.Provider, {\n        value: {\n          setUser: this.setUser,\n          logoutUser: this.logoutUser,\n          checkUser: this.checkUser,\n          user: this.state.user\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, __jsx(ThemeProvider, {\n        theme: theme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, __jsx(CssBaseline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), __jsx(Container, {\n        maxWidth: \"xl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, __jsx(Box, {\n        py: \"7rem\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, __jsx(Component, _extends({}, pageProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return MyApp;\n}(App);\n\nexport { MyApp as default };","map":{"version":3,"sources":["/Users/davidzoufaly/code/dp/crm-app-fe/pages/_app.tsx"],"names":["React","App","Router","UserContext","theme","ThemeProvider","CssBaseline","Container","Box","MyApp","user","userkey","signedIn","setState","state","push","sessionStorage","setItem","toString","getItem","jssStyles","document","querySelector","parentNode","removeChild","props","Component","pageProps","setUser","logoutUser","checkUser"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport App from \"next/app\";\nimport Router from \"next/router\";\nimport UserContext from \"../components/UserContext\";\nimport theme from \"../src/theme\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Container from '@material-ui/core/Container';\nimport Box from '@material-ui/core/Box';\n\nexport default class MyApp extends App {\n  state = {\n    user: {\n      userkey: \"\",\n      signedIn: false\n    }\n  };\n\n  componentDidMount() {\n    const jssStyles = document.querySelector(\"#jss-server-side\");\n    if (jssStyles) {\n      jssStyles.parentNode.removeChild(jssStyles);\n    }\n  }\n\n  setUser = userkey => {\n    this.setState({\n      ...this.state,\n      user: { ...this.state.user, userkey, signedIn: true }\n    });\n    Router.push(`/dashboard/${this.state.user.userkey}`);\n    sessionStorage.setItem(\"userkey\", this.state.user.userkey);\n    sessionStorage.setItem(\"signedIn\", this.state.user.signedIn.toString());\n  };\n\n  checkUser = () => {\n    sessionStorage.getItem(\"signedIn\") === \"false\"\n      ? Router.push(\"/\")\n      : this.setState({\n          user: {\n            ...this.state.user,\n            userkey: sessionStorage.getItem(\"userkey\"),\n            signedIn: true\n          }\n        });\n  };\n\n  logoutUser = () => {\n    this.setState(\n      {\n        ...this.state,\n        user: { ...this.state.user, userkey: \"\", signedIn: false }\n      },\n      () => {\n        sessionStorage.setItem(\"userkey\", this.state.user.userkey);\n        sessionStorage.setItem(\"signedIn\", this.state.user.signedIn.toString());\n      }\n    );\n    Router.push(\"/\");\n  };\n\n  render() {\n    const { Component, pageProps } = this.props;\n\n    return (\n      <React.Fragment>\n        <UserContext.Provider\n          value={{\n            setUser: this.setUser,\n            logoutUser: this.logoutUser,\n            checkUser: this.checkUser,\n            user: this.state.user\n          }}\n        >\n            <ThemeProvider theme={theme}>\n              <CssBaseline />\n              <Container maxWidth=\"xl\">\n              <Box py=\"7rem\">\n                <Component {...pageProps} />\n              </Box>\n              </Container>\n            </ThemeProvider>\n        </UserContext.Provider>\n      </React.Fragment>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}