{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/davidzoufaly/code/dp/crm-app-fe/components/CustomClientFields.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from \"react\";\nimport AddOrEditField from \"../components/AddOrEditField\";\nimport axios from \"axios\";\nimport globalVars from \"../library/globalVariables\";\nimport CustomFields from \"../components/CustomFields\";\n\nvar CustomClientFields = function CustomClientFields(_ref) {\n  var fields = _ref.fields,\n      refreshList = _ref.refreshList;\n\n  var _useState = useState(false),\n      displayComponent = _useState[0],\n      setDisplayComponent = _useState[1];\n\n  var _useState2 = useState({\n    fieldName: \"\",\n    fieldType: \"text\",\n    fieldPermanent: false,\n    fieldOptions: []\n  }),\n      editedField = _useState2[0],\n      setEditedField = _useState2[1];\n\n  var deleteField =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(event) {\n      var id, res, resData;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              id = event.target.id;\n              _context.next = 3;\n              return axios({\n                method: \"delete\",\n                url: \"\".concat(globalVars.serverURL, \"/fields/\").concat(id),\n                responseType: \"json\"\n              });\n\n            case 3:\n              res = _context.sent;\n              _context.next = 6;\n              return res.data;\n\n            case 6:\n              resData = _context.sent;\n              resData.msg === \"Success\" ? refreshList() : null;\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function deleteField(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var setupEditedField = function setupEditedField(obj) {\n    setEditedField(obj);\n    displayComponent ? setDisplayComponent(false) : setDisplayComponent(true);\n  };\n\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, __jsx(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"Custom Client Fields\"), __jsx(CustomFields, {\n    deleteField: deleteField,\n    setupEditedField: setEditedField,\n    fields: fields,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), !displayComponent ? __jsx(\"button\", {\n    onClick: function onClick() {\n      return setupEditedField(editedField);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Add new field\") : __jsx(AddOrEditField, {\n    fieldObject: editedField,\n    setupEditedField: setupEditedField,\n    refreshList: refreshList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }));\n};\n\nexport default CustomClientFields;","map":{"version":3,"sources":["/Users/davidzoufaly/code/dp/crm-app-fe/components/CustomClientFields.tsx"],"names":["useState","AddOrEditField","axios","globalVars","CustomFields","CustomClientFields","fields","refreshList","displayComponent","setDisplayComponent","fieldName","fieldType","fieldPermanent","fieldOptions","editedField","setEditedField","deleteField","event","id","target","method","url","serverURL","responseType","res","data","resData","msg","setupEditedField","obj"],"mappings":";;;;;AACA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;;AAEA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,OAAkC;AAAA,MAA/BC,MAA+B,QAA/BA,MAA+B;AAAA,MAAvBC,WAAuB,QAAvBA,WAAuB;;AAAA,kBACXP,QAAQ,CAAC,KAAD,CADG;AAAA,MACpDQ,gBADoD;AAAA,MAClCC,mBADkC;;AAAA,mBAErBT,QAAQ,CAAC;AAC7CU,IAAAA,SAAS,EAAE,EADkC;AAE7CC,IAAAA,SAAS,EAAE,MAFkC;AAG7CC,IAAAA,cAAc,EAAE,KAH6B;AAI7CC,IAAAA,YAAY,EAAE;AAJ+B,GAAD,CAFa;AAAA,MAEpDC,WAFoD;AAAA,MAEvCC,cAFuC;;AAS3D,MAAMC,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG,iBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACZC,cAAAA,EADY,GACPD,KAAK,CAACE,MAAN,CAAaD,EADN;AAAA;AAAA,qBAEAhB,KAAK,CAAC;AACpBkB,gBAAAA,MAAM,EAAE,QADY;AAEpBC,gBAAAA,GAAG,YAAIlB,UAAU,CAACmB,SAAf,qBAAmCJ,EAAnC,CAFiB;AAGpBK,gBAAAA,YAAY,EAAE;AAHM,eAAD,CAFL;;AAAA;AAEZC,cAAAA,GAFY;AAAA;AAAA,qBAOIA,GAAG,CAACC,IAPR;;AAAA;AAOZC,cAAAA,OAPY;AAQlBA,cAAAA,OAAO,CAACC,GAAR,KAAgB,SAAhB,GAA4BpB,WAAW,EAAvC,GAA4C,IAA5C;;AARkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXS,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAWA,MAAMY,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,GAAD,EAAiB;AACxCd,IAAAA,cAAc,CAACc,GAAD,CAAd;AACArB,IAAAA,gBAAgB,GAAGC,mBAAmB,CAAC,KAAD,CAAtB,GAAgCA,mBAAmB,CAAC,IAAD,CAAnE;AACD,GAHD;;AAKA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EAEE,MAAC,YAAD;AAAc,IAAA,WAAW,EAAEO,WAA3B;AAAwC,IAAA,gBAAgB,EAAED,cAA1D;AAA2E,IAAA,MAAM,EAAET,MAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGG,CAACE,gBAAD,GAAoB;AAAQ,IAAA,OAAO,EAAE;AAAA,aAAMoB,gBAAgB,CAACd,WAAD,CAAtB;AAAA,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAApB,GAAmG,MAAC,cAAD;AAAgB,IAAA,WAAW,EAAEA,WAA7B;AAA0C,IAAA,gBAAgB,EAAEc,gBAA5D;AAA8E,IAAA,WAAW,EAAErB,WAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHtG,CADF;AAOD,CAhCD;;AAkCA,eAAeF,kBAAf","sourcesContent":["\nimport { useState } from \"react\";\nimport AddOrEditField from \"../components/AddOrEditField\";\nimport axios from \"axios\";\nimport globalVars from \"../library/globalVariables\";\nimport CustomFields from \"../components/CustomFields\";\n\nconst CustomClientFields = ({ fields, refreshList }: any) => {\n  const [displayComponent, setDisplayComponent] = useState(false);\n  const [editedField, setEditedField] = useState({\n    fieldName: \"\",\n    fieldType: \"text\",\n    fieldPermanent: false,\n    fieldOptions: []\n  })\n\n  const deleteField = async (event : any) =>Â {\n    const id = event.target.id;\n    const res = await axios({\n        method: \"delete\",\n        url:`${globalVars.serverURL}/fields/${id}`,\n        responseType: \"json\"\n    })\n    const resData = await res.data;\n    resData.msg === \"Success\" ? refreshList() : null;\n  }\n\n  const setupEditedField = (obj ? : any) => {\n    setEditedField(obj);\n    displayComponent ? setDisplayComponent(false) : setDisplayComponent(true);\n  }\n\n  return (\n    <div>\n      <h2>Custom Client Fields</h2>\n      <CustomFields deleteField={deleteField} setupEditedField={setEditedField}  fields={fields}/>\n      {!displayComponent ? <button onClick={() => setupEditedField(editedField)}>Add new field</button> : <AddOrEditField fieldObject={editedField} setupEditedField={setupEditedField} refreshList={refreshList} />}\n    </div>\n  );\n};\n\nexport default CustomClientFields;\n"]},"metadata":{},"sourceType":"module"}