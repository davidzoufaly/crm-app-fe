{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/davidzoufaly/code/dp/crm-app-fe/components/settings/customFields/CustomFields.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useReducer, useContext } from \"react\";\nimport axios from \"axios\";\nimport uniqid from \"uniqid\";\nimport generateUniqueId from \"generate-unique-id\";\nimport AddOrEditField from \"./AddOrEditField\";\nimport UserContext from \"../../UserContext\";\nimport CustomFieldsList from \"./CustomFieldsList\";\nimport SelectFieldOptions from \"./SelectFieldOptions\";\nimport globalVars from \"../../../library/globalVariables\";\nimport { Box } from \"@material-ui/core\";\nimport { addField, deleteField } from \"../../../actions/fieldsAction\";\n\nconst CustomFields = ({\n  state,\n  dispatch\n}) => {\n  const blankFieldObject = {\n    fieldName: \"\",\n    fieldType: \"text\",\n    fieldOptions: [],\n    fieldFormVisible: null,\n    _id: generateUniqueId({\n      length: 24,\n      useNumbers: true,\n      useLetters: false,\n      includeSymbols: [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"]\n    })\n  };\n  const user = useContext(UserContext);\n  const {\n    0: displayComponent,\n    1: setDisplayComponent\n  } = useState(false);\n  const {\n    0: editedField,\n    1: setEditedField\n  } = useReducer((state, action) => {\n    switch (action.type) {\n      case \"fieldNameChange\":\n        return _objectSpread({}, state, {\n          fieldName: action.payload.value\n        });\n\n      case \"selectValueChange\":\n        return _objectSpread({}, state, {\n          fieldType: action.payload.value\n        });\n\n      case \"newOptionSpawn\":\n        return _objectSpread({}, state, {\n          fieldOptions: [...state.fieldOptions, {\n            id: uniqid(),\n            value: \"\"\n          }]\n        });\n\n      case \"clear\":\n        return blankFieldObject;\n\n      case \"optionValueChange\":\n        return _objectSpread({}, state, {\n          fieldOptions: state.fieldOptions.map(el => el.id === action.payload.id ? _objectSpread({}, el, {\n            value: action.payload.value\n          }) : el)\n        });\n\n      case \"optionDelete\":\n        console.log(state);\n        return _objectSpread({}, state, {\n          fieldOptions: state.fieldOptions.map(e => action.payload.id === e.id && e.preselected ? _objectSpread({}, state, {\n            fieldInForm: false\n          }) : {\n            state\n          }).filter(el => action.payload.id !== el.id)\n        });\n\n      case \"setWithPaylod\":\n        return action.payload.obj;\n\n      default:\n        return state;\n    }\n  }, blankFieldObject);\n  const fieldMethods = {\n    onNameChange(event) {\n      setEditedField({\n        type: \"fieldNameChange\",\n        payload: {\n          value: event.target.value\n        }\n      });\n    },\n\n    onSelectChange(event) {\n      setEditedField({\n        type: \"selectValueChange\",\n        payload: {\n          value: event.target.value\n        }\n      });\n    },\n\n    handleOptionSpawn(e) {\n      e.preventDefault();\n      setEditedField({\n        type: \"newOptionSpawn\"\n      });\n    },\n\n    toggleDisplayComponent() {\n      displayComponent ? setDisplayComponent(false) : setDisplayComponent(true);\n      setEditedField({\n        type: \"clear\"\n      });\n    },\n\n    onOptionDelete(event) {\n      setEditedField({\n        type: \"optionDelete\",\n        payload: {\n          id: event.currentTarget.id\n        }\n      });\n    },\n\n    onOptionChange(id, event) {\n      setEditedField({\n        type: \"optionValueChange\",\n        payload: {\n          value: event.target.value,\n          id\n        }\n      });\n    },\n\n    setupEditedField(obj) {\n      setEditedField({\n        type: \"setWithPaylod\",\n        payload: {\n          obj\n        }\n      });\n      !displayComponent ? setDisplayComponent(true) : null;\n    },\n\n    saveEditedField(e) {\n      e.preventDefault();\n\n      const fieldIsUpdated = async () => {\n        const {\n          fieldName,\n          fieldType,\n          fieldOptions,\n          _id\n        } = editedField;\n        const res = await axios({\n          method: \"PUT\",\n          url: `${globalVars.serverURL}/fields/${_id}`,\n          params: {\n            key: user.user.userkey\n          },\n          data: {\n            fieldName,\n            fieldType,\n            fieldOptions\n          },\n          responseType: \"json\"\n        });\n        const data = await res.data;\n\n        if (data.msg === globalVars.msgSuccess) {\n          reset();\n        }\n      };\n\n      const fieldIsCreated = async () => {\n        const res = await axios({\n          method: \"POST\",\n          params: {\n            key: user.user.userkey\n          },\n          url: `${globalVars.serverURL}/fields/`,\n          data: editedField,\n          responseType: \"json\"\n        });\n        const data = await res.data;\n\n        if (data.msg === globalVars.msgSuccess) {\n          reset();\n        }\n      };\n\n      state.some(field => field._id === editedField._id) ? fieldIsUpdated() : fieldIsCreated();\n    }\n\n  };\n\n  const reset = () => {\n    setDisplayComponent(false);\n    addField(dispatch, editedField);\n    setEditedField({\n      type: \"clear\"\n    });\n  };\n\n  const deleteFieldRes = async id => {\n    const res = await axios({\n      method: \"DELETE\",\n      params: {\n        key: user.user.userkey\n      },\n      url: `${globalVars.serverURL}/fields/${id}`,\n      responseType: \"json\"\n    });\n    const resData = await res.data;\n    resData.msg === globalVars.msgSuccess ? deleteField(dispatch, id) : null;\n  };\n\n  return __jsx(Box, {\n    mt: \"1rem\",\n    mb: \"5rem\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, __jsx(CustomFieldsList, {\n    deleteFieldRes: deleteFieldRes,\n    state: state,\n    setupEditedField: fieldMethods.setupEditedField,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }), __jsx(AddOrEditField, {\n    editedField: editedField,\n    displayComponent: displayComponent,\n    fieldMethods: fieldMethods,\n    handleOption: __jsx(SelectFieldOptions, {\n      options: editedField.fieldOptions,\n      fieldMethods: fieldMethods,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }));\n};\n\nexport default CustomFields;","map":{"version":3,"sources":["/Users/davidzoufaly/code/dp/crm-app-fe/components/settings/customFields/CustomFields.tsx"],"names":["useState","useReducer","useContext","axios","uniqid","generateUniqueId","AddOrEditField","UserContext","CustomFieldsList","SelectFieldOptions","globalVars","Box","addField","deleteField","CustomFields","state","dispatch","blankFieldObject","fieldName","fieldType","fieldOptions","fieldFormVisible","_id","length","useNumbers","useLetters","includeSymbols","user","displayComponent","setDisplayComponent","editedField","setEditedField","action","type","payload","value","id","map","el","console","log","e","preselected","fieldInForm","filter","obj","fieldMethods","onNameChange","event","target","onSelectChange","handleOptionSpawn","preventDefault","toggleDisplayComponent","onOptionDelete","currentTarget","onOptionChange","setupEditedField","saveEditedField","fieldIsUpdated","res","method","url","serverURL","params","key","userkey","data","responseType","msg","msgSuccess","reset","fieldIsCreated","some","field","deleteFieldRes","resData"],"mappings":"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","sourcesContent":["import { useState, useReducer, useContext } from \"react\";\nimport axios from \"axios\";\nimport uniqid from \"uniqid\";\nimport generateUniqueId from \"generate-unique-id\";\nimport AddOrEditField from \"./AddOrEditField\";\nimport UserContext from \"../../UserContext\";\nimport CustomFieldsList from \"./CustomFieldsList\";\nimport SelectFieldOptions from \"./SelectFieldOptions\";\nimport globalVars from \"../../../library/globalVariables\";\nimport { Box } from \"@material-ui/core\";\nimport { addField, deleteField } from \"../../../actions/fieldsAction\";\n\nconst CustomFields = ({ state, dispatch }: any) => {\n  const blankFieldObject = {\n    fieldName: \"\",\n    fieldType: \"text\",\n    fieldOptions: [],\n    fieldFormVisible: null,\n    _id: generateUniqueId({\n      length: 24,\n      useNumbers: true,\n      useLetters: false,\n      includeSymbols: [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"]\n    })\n  };\n\n  const user = useContext(UserContext);\n  const [displayComponent, setDisplayComponent] = useState(false);\n\n  const [editedField, setEditedField] = useReducer((state, action) => {\n    switch (action.type) {\n      case \"fieldNameChange\":\n        return {\n          ...state,\n          fieldName: action.payload.value\n        };\n      case \"selectValueChange\":\n        return {\n          ...state,\n          fieldType: action.payload.value\n        };\n      case \"newOptionSpawn\":\n        return {\n          ...state,\n          fieldOptions: [...state.fieldOptions, { id: uniqid(), value: \"\" }]\n        };\n      case \"clear\":\n        return blankFieldObject;\n      case \"optionValueChange\":\n        return {\n          ...state,\n          fieldOptions: state.fieldOptions.map((el: any) =>\n            el.id === action.payload.id\n              ? { ...el, value: action.payload.value }\n              : el\n          )\n        };\n      case \"optionDelete\":\n        console.log(state);\n        return {\n          ...state,\n          fieldOptions: state.fieldOptions\n          .map((e: any) => action.payload.id === e.id && e.preselected\n                ? {...state, fieldInForm: false}\n                : {state})\n          .filter(el => action.payload.id !== el.id)\n        };\n      case \"setWithPaylod\":\n        return action.payload.obj;\n\n      default:\n        return state;\n    }\n  }, blankFieldObject);\n\n  const fieldMethods = {\n    onNameChange(event: any) {\n      setEditedField({\n        type: \"fieldNameChange\",\n        payload: { value: event.target.value }\n      });\n    },\n    onSelectChange(event: any) {\n      setEditedField({\n        type: \"selectValueChange\",\n        payload: { value: event.target.value }\n      });\n    },\n    handleOptionSpawn(e) {\n      e.preventDefault();\n      setEditedField({\n        type: \"newOptionSpawn\"\n      });\n    },\n    toggleDisplayComponent() {\n      displayComponent ? setDisplayComponent(false) : setDisplayComponent(true);\n      setEditedField({ type: \"clear\" });\n    },\n    onOptionDelete(event: any) {\n      setEditedField({\n        type: \"optionDelete\",\n        payload: { id: event.currentTarget.id }\n      });\n    },\n    onOptionChange(id, event) {\n      setEditedField({\n        type: \"optionValueChange\",\n        payload: { value: event.target.value, id }\n      });\n    },\n    setupEditedField(obj: any) {\n      setEditedField({\n        type: \"setWithPaylod\",\n        payload: { obj }\n      });\n      !displayComponent ? setDisplayComponent(true) : null;\n    },\n    saveEditedField(e) {\n      e.preventDefault();\n\n      const fieldIsUpdated = async () => {\n        const { fieldName, fieldType, fieldOptions, _id } = editedField;\n        const res = await axios({\n          method: \"PUT\",\n          url: `${globalVars.serverURL}/fields/${_id}`,\n          params: { key: user.user.userkey },\n          data: { fieldName, fieldType, fieldOptions },\n          responseType: \"json\"\n        });\n        const data = await res.data;\n        if (data.msg === globalVars.msgSuccess) {\n          reset();\n        }\n      };\n\n      const fieldIsCreated = async () => {\n        const res = await axios({\n          method: \"POST\",\n          params: { key: user.user.userkey },\n          url: `${globalVars.serverURL}/fields/`,\n          data: editedField,\n          responseType: \"json\"\n        });\n        const data = await res.data;\n        if (data.msg === globalVars.msgSuccess) {\n          reset();\n        }\n      };\n      state.some(field => field._id === editedField._id)\n      ? fieldIsUpdated()\n      : fieldIsCreated()\n    }\n  };\n\n  const reset = () => {\n    setDisplayComponent(false);\n    addField(dispatch, editedField);\n    setEditedField({ type: \"clear\" });\n  };\n\n  const deleteFieldRes = async (id: any) => {\n    const res = await axios({\n      method: \"DELETE\",\n      params: { key: user.user.userkey },\n      url: `${globalVars.serverURL}/fields/${id}`,\n      responseType: \"json\"\n    });\n    const resData = await res.data;\n    resData.msg === globalVars.msgSuccess ? deleteField(dispatch, id) : null;\n  };\n\n  return (\n    <Box mt=\"1rem\" mb=\"5rem\">\n      <CustomFieldsList\n        deleteFieldRes={deleteFieldRes}\n        state={state}\n        setupEditedField={fieldMethods.setupEditedField}\n      />\n      <AddOrEditField\n        editedField={editedField}\n        displayComponent={displayComponent}\n        fieldMethods={fieldMethods}\n        handleOption={\n          <SelectFieldOptions\n            options={editedField.fieldOptions}\n            fieldMethods={fieldMethods}\n          />\n        }\n      />\n    </Box>\n  );\n};\n\nexport default CustomFields;\n"]},"metadata":{},"sourceType":"module"}