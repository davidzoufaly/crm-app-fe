{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/davidzoufaly/code/dp/crm-app-fe/components/CustomFields.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useReducer } from \"react\";\nimport AddOrEditField from \"./AddOrEditField\";\nimport axios from \"axios\";\nimport globalVars from \"../library/globalVariables\";\nimport uniqid from \"uniqid\";\nimport CustomFieldsList from \"./CustomFieldsList\";\nimport Typography from \"@material-ui/core/Typography\";\nimport SelectFieldOptions from \"./SelectFieldOptions\"; //TODO: EDIT OPTIONU SE PRERENDEROVAVA\n//TODO: TO much baskspace u optionu uplne odstraní pole\n\nvar CustomClientFields = function CustomClientFields(_ref) {\n  var fields = _ref.fields,\n      refreshList = _ref.refreshList;\n  var blankFieldObject = {\n    fieldName: \"\",\n    fieldType: \"text\",\n    fieldOptions: []\n  };\n\n  var _useState = useState(false),\n      displayComponent = _useState[0],\n      setDisplayComponent = _useState[1];\n\n  var _useReducer = useReducer(function (state, action) {\n    switch (action.type) {\n      case \"fieldNameChange\":\n        return _objectSpread({}, state, {\n          fieldName: action.payload.event.target.value\n        });\n\n      case \"selectValueChange\":\n        return _objectSpread({}, state, {\n          fieldType: action.payload.event.target.options[action.payload.event.target.options.selectedIndex].value\n        });\n\n      case \"newOptionSpawn\":\n        return _objectSpread({}, state, {\n          fieldOptions: [].concat(_toConsumableArray(editedField.fieldOptions), [{\n            id: uniqid(),\n            value: \"\"\n          }])\n        });\n\n      case \"clear\":\n        return {\n          blankFieldObject: blankFieldObject\n        };\n\n      case \"optionValueChange\":\n        return _objectSpread({}, state, {\n          fieldOptions: state.fieldOptions.filter(function (el) {\n            return action.type.event.target.id === el.id ? el.value = action.type.event.target.value : el;\n          })\n        });\n\n      case \"optionDelete\":\n        return _objectSpread({}, state, {\n          fieldOptions: state.fieldOptions.filter(function (e) {\n            return action.payload.event.target.id !== e.id;\n          })\n        });\n\n      case \"setWithPaylod\":\n        return action.payload.data;\n\n      default:\n        return state;\n    }\n  }, blankFieldObject),\n      editedField = _useReducer[0],\n      setEditedField = _useReducer[1];\n\n  var fieldMethods = {\n    onNameChange: function onNameChange(event) {\n      setEditedField({\n        type: \"fieldNameChange\",\n        payload: {\n          event: event\n        }\n      });\n    },\n    onSelectChange: function onSelectChange(event) {\n      setEditedField({\n        type: \"selectValueChange\",\n        payload: {\n          event: event\n        }\n      });\n    },\n    handleOptionSpawn: function handleOptionSpawn() {\n      setEditedField({\n        type: \"newOptionSpawn\"\n      });\n    },\n    toggleDisplayComponent: function toggleDisplayComponent() {\n      displayComponent ? setDisplayComponent(false) : setDisplayComponent(true);\n      setEditedField({\n        type: \"clear\"\n      });\n    },\n    saveEditedField: function saveEditedField() {\n      var fieldIsUpdated =\n      /*#__PURE__*/\n      function () {\n        var _ref2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee() {\n          var fieldName, fieldType, fieldOptions, id, res, data;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  fieldName = editedField.fieldName, fieldType = editedField.fieldType, fieldOptions = editedField.fieldOptions, id = editedField.id;\n                  _context.next = 3;\n                  return axios({\n                    method: \"put\",\n                    url: \"\".concat(globalVars.serverURL, \"/fields/\").concat(id),\n                    data: {\n                      fieldName: fieldName,\n                      fieldType: fieldType,\n                      fieldOptions: fieldOptions\n                    },\n                    responseType: \"json\"\n                  });\n\n                case 3:\n                  res = _context.sent;\n                  _context.next = 6;\n                  return res.data;\n\n                case 6:\n                  data = _context.sent;\n\n                  if (data.msg === \"Success\") {\n                    reset();\n                  }\n\n                case 8:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function fieldIsUpdated() {\n          return _ref2.apply(this, arguments);\n        };\n      }();\n\n      var fieldIsCreated =\n      /*#__PURE__*/\n      function () {\n        var _ref3 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee2() {\n          var res, data;\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return axios({\n                    method: \"post\",\n                    url: \"\".concat(globalVars.serverURL, \"/fields/\"),\n                    data: editedField,\n                    responseType: \"json\"\n                  });\n\n                case 2:\n                  res = _context2.sent;\n                  _context2.next = 5;\n                  return res.data;\n\n                case 5:\n                  data = _context2.sent;\n\n                  if (data.msg === \"Success\") {\n                    reset();\n                  }\n\n                case 7:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function fieldIsCreated() {\n          return _ref3.apply(this, arguments);\n        };\n      }();\n\n      !editedField.id ? fieldIsCreated() : fieldIsUpdated();\n    }\n  };\n\n  var reset = function reset() {\n    setDisplayComponent(false);\n    setEditedField({\n      type: \"clear\"\n    });\n    refreshList();\n  };\n\n  var deleteField =\n  /*#__PURE__*/\n  function () {\n    var _ref4 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3(id) {\n      var res, resData;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return axios({\n                method: \"delete\",\n                url: \"\".concat(globalVars.serverURL, \"/fields/\").concat(id),\n                responseType: \"json\"\n              });\n\n            case 2:\n              res = _context3.sent;\n              _context3.next = 5;\n              return res.data;\n\n            case 5:\n              resData = _context3.sent;\n              resData.msg === \"Success\" ? refreshList() : null;\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function deleteField(_x) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var onOptionChange = function onOptionChange(event) {\n    setEditedField({\n      type: \"optionValueChange\",\n      payload: {\n        event: event\n      }\n    });\n  };\n\n  var onOptionDelete = function onOptionDelete(event) {\n    setEditedField({\n      action: \"optionDelete\",\n      payload: {\n        event: event\n      }\n    });\n  };\n\n  var setupEditedField = function setupEditedField(obj) {\n    setEditedField({\n      action: \"setWithPayload\",\n      payload: {\n        obj: obj\n      }\n    });\n    !displayComponent ? setDisplayComponent(true) : null;\n  };\n\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, __jsx(Typography, {\n    variant: \"h4\",\n    component: \"h2\",\n    gutterBottom: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, \"Custom Client Fields\"), __jsx(CustomFieldsList, {\n    deleteField: deleteField,\n    fields: fields,\n    setupEditedField: setupEditedField,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }), __jsx(AddOrEditField, {\n    editedField: editedField,\n    displayComponent: displayComponent,\n    fieldMethods: fieldMethods,\n    handleOption: __jsx(SelectFieldOptions, {\n      options: editedField.fieldOptions,\n      onOptionChange: onOptionChange,\n      onOptionDelete: onOptionDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }));\n};\n\nexport default CustomClientFields;","map":{"version":3,"sources":["/Users/davidzoufaly/code/dp/crm-app-fe/components/CustomFields.tsx"],"names":["useState","useReducer","AddOrEditField","axios","globalVars","uniqid","CustomFieldsList","Typography","SelectFieldOptions","CustomClientFields","fields","refreshList","blankFieldObject","fieldName","fieldType","fieldOptions","displayComponent","setDisplayComponent","state","action","type","payload","event","target","value","options","selectedIndex","editedField","id","filter","el","e","data","setEditedField","fieldMethods","onNameChange","onSelectChange","handleOptionSpawn","toggleDisplayComponent","saveEditedField","fieldIsUpdated","method","url","serverURL","responseType","res","msg","reset","fieldIsCreated","deleteField","resData","onOptionChange","onOptionDelete","setupEditedField","obj"],"mappings":"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","sourcesContent":["import { useState, useReducer } from \"react\";\nimport AddOrEditField from \"./AddOrEditField\";\nimport axios from \"axios\";\nimport globalVars from \"../library/globalVariables\";\nimport uniqid from \"uniqid\";\nimport CustomFieldsList from \"./CustomFieldsList\";\nimport Typography from \"@material-ui/core/Typography\";\nimport SelectFieldOptions from \"./SelectFieldOptions\";\n\n//TODO: EDIT OPTIONU SE PRERENDEROVAVA\n//TODO: TO much baskspace u optionu uplne odstraní pole\n\nconst CustomClientFields = ({ fields, refreshList }: any) => {\n  const blankFieldObject = {\n    fieldName: \"\",\n    fieldType: \"text\",\n    fieldOptions: []\n  };\n\n  const [displayComponent, setDisplayComponent] = useState(false);\n\n  const [editedField, setEditedField] = useReducer((state, action) => {\n    switch (action.type) {\n      case \"fieldNameChange\":\n        return {\n          ...state,\n          fieldName: action.payload.event.target.value\n        };\n      case \"selectValueChange\":\n        return {\n          ...state,\n          fieldType:\n            action.payload.event.target.options[\n              action.payload.event.target.options.selectedIndex\n            ].value\n        };\n      case \"newOptionSpawn\":\n        return {\n          ...state,\n          fieldOptions: [\n            ...editedField.fieldOptions,\n            { id: uniqid(), value: \"\" }\n          ]\n        };\n      case \"clear\":\n        return {\n          blankFieldObject\n        };\n      case \"optionValueChange\":\n        return {\n          ...state,\n          fieldOptions: state.fieldOptions.filter((el: any) =>\n            action.type.event.target.id === el.id\n              ? (el.value = action.type.event.target.value)\n              : el\n          )\n        };\n      case \"optionDelete\":\n        return {\n          ...state,\n          fieldOptions: state.fieldOptions.filter((e: any) =>\n            action.payload.event.target.id !== e.id\n          )\n        };\n      case \"setWithPaylod\":\n        return action.payload.data;\n\n      default:\n        return state;\n    }\n  }, blankFieldObject);\n\n  const fieldMethods = {\n    onNameChange(event: any) {\n      setEditedField({\n        type: \"fieldNameChange\",\n        payload: { event }\n      });\n    },\n    onSelectChange(event: any) {\n      setEditedField({\n        type: \"selectValueChange\",\n        payload: { event }\n      });\n    },\n    handleOptionSpawn() {\n      setEditedField({\n        type: \"newOptionSpawn\"\n      });\n    },\n    toggleDisplayComponent() {\n      displayComponent ? setDisplayComponent(false) : setDisplayComponent(true);\n      setEditedField({\n        type: \"clear\"\n      });\n    },\n    saveEditedField() {\n      const fieldIsUpdated = async () => {\n        const { fieldName, fieldType, fieldOptions, id } = editedField;\n        const res = await axios({\n          method: \"put\",\n          url: `${globalVars.serverURL}/fields/${id}`,\n          data: { fieldName, fieldType, fieldOptions },\n          responseType: \"json\"\n        });\n        const data = await res.data;\n        if (data.msg === \"Success\") {\n          reset();\n        }\n      };\n\n      const fieldIsCreated = async () => {\n        const res = await axios({\n          method: \"post\",\n          url: `${globalVars.serverURL}/fields/`,\n          data: editedField,\n          responseType: \"json\"\n        });\n        const data = await res.data;\n        if (data.msg === \"Success\") {\n          reset();\n        }\n      };\n      !editedField.id ? fieldIsCreated() : fieldIsUpdated();\n    }\n  };\n\n  const reset = () => {\n    setDisplayComponent(false);\n    setEditedField({ type: \"clear\" });\n    refreshList();\n  };\n\n  const deleteField = async (id: any) => {\n    const res = await axios({\n      method: \"delete\",\n      url: `${globalVars.serverURL}/fields/${id}`,\n      responseType: \"json\"\n    });\n    const resData = await res.data;\n    resData.msg === \"Success\" ? refreshList() : null;\n  };\n\n  const onOptionChange = (event: any) => {\n    setEditedField({\n      type: \"optionValueChange\",\n      payload: { event }\n    });\n  };\n\n  const onOptionDelete = (event: any) => {\n    setEditedField({\n      action: \"optionDelete\",\n      payload: { event }\n    });\n  };\n\n  const setupEditedField = (obj: any) => {\n    setEditedField({\n      action: \"setWithPayload\",\n      payload: { obj }\n    });\n    !displayComponent ? setDisplayComponent(true) : null;\n  };\n\n  return (\n    <div>\n      <Typography variant=\"h4\" component=\"h2\" gutterBottom>\n        Custom Client Fields\n      </Typography>\n      <CustomFieldsList\n        deleteField={deleteField}\n        fields={fields}\n        setupEditedField={setupEditedField}\n      />\n      <AddOrEditField\n        editedField={editedField}\n        displayComponent={displayComponent}\n        fieldMethods={fieldMethods}\n        handleOption={\n          <SelectFieldOptions\n            options={editedField.fieldOptions}\n            onOptionChange={onOptionChange}\n            onOptionDelete={onOptionDelete}\n          />\n        }\n      />\n    </div>\n  );\n};\n\nexport default CustomClientFields;\n"]},"metadata":{},"sourceType":"module"}