{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/davidzoufaly/code/dp/crm-app-fe/components/EmailForm.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport axios from \"axios\";\nimport globalVars from \"../library/globalVariables\";\nimport { useState, useEffect } from \"react\";\n\nconst EmailForm = ({\n  to\n}) => {\n  const {\n    0: email,\n    1: setEmail\n  } = useState({\n    to,\n    subject: \"\",\n    message: \"\"\n  });\n  useEffect(() => {\n    setEmail(_objectSpread({}, email, {\n      to: to\n    }));\n  }, [to]);\n  useEffect(() => {\n    console.log(to);\n    console.log(email);\n  });\n\n  const sendEmail = async e => {\n    e.preventDefault();\n    const res = await axios({\n      method: \"post\",\n      data: email,\n      url: `${globalVars.serverURL}/emails/send`,\n      responseType: \"json\"\n    });\n    const data = await res.data;\n    data.msg === \"Success\" ? alert(\"Your email has been succesfully sent.\") : alert(\"Something went wrong!\");\n  };\n\n  const onChange = e => {\n    setEmail(_objectSpread({}, email, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  return __jsx(\"form\", {\n    onSubmit: sendEmail,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    name: \"to\",\n    value: email.to,\n    disabled: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    type: \"text\",\n    name: \"subject\",\n    value: email.subject,\n    onChange: onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), __jsx(\"textarea\", {\n    name: \"message\",\n    onChange: onChange,\n    value: email.message,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), __jsx(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Cancel\"), __jsx(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Send\"));\n};\n\nexport default EmailForm;","map":{"version":3,"sources":["/Users/davidzoufaly/code/dp/crm-app-fe/components/EmailForm.tsx"],"names":["axios","globalVars","useState","useEffect","EmailForm","to","email","setEmail","subject","message","console","log","sendEmail","e","preventDefault","res","method","data","url","serverURL","responseType","msg","alert","onChange","target","name","value"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;AAEA,MAAMC,SAAS,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAiB;AACjC,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBL,QAAQ,CAAC;AAAEG,IAAAA,EAAF;AAAMG,IAAAA,OAAO,EAAE,EAAf;AAAmBC,IAAAA,OAAO,EAAE;AAA5B,GAAD,CAAlC;AAEAN,EAAAA,SAAS,CAAC,MAAM;AACdI,IAAAA,QAAQ,mBAAKD,KAAL;AAAYD,MAAAA,EAAE,EAAEA;AAAhB,OAAR;AACD,GAFQ,EAEN,CAACA,EAAD,CAFM,CAAT;AAIAF,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,OAAO,CAACC,GAAR,CAAYN,EAAZ;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACD,GAHQ,CAAT;;AAKA,QAAMM,SAAS,GAAG,MAAMC,CAAN,IAAW;AAC3BA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,GAAG,GAAG,MAAMf,KAAK,CAAC;AACtBgB,MAAAA,MAAM,EAAE,MADc;AAEtBC,MAAAA,IAAI,EAAEX,KAFgB;AAGtBY,MAAAA,GAAG,EAAG,GAAEjB,UAAU,CAACkB,SAAU,cAHP;AAItBC,MAAAA,YAAY,EAAE;AAJQ,KAAD,CAAvB;AAMA,UAAMH,IAAI,GAAG,MAAMF,GAAG,CAACE,IAAvB;AACAA,IAAAA,IAAI,CAACI,GAAL,KAAa,SAAb,GACIC,KAAK,CAAC,uCAAD,CADT,GAEIA,KAAK,CAAC,uBAAD,CAFT;AAGD,GAZD;;AAcA,QAAMC,QAAQ,GAAGV,CAAC,IAAI;AACpBN,IAAAA,QAAQ,mBAAMD,KAAN;AAAa,OAACO,CAAC,CAACW,MAAF,CAASC,IAAV,GAAiBZ,CAAC,CAACW,MAAF,CAASE;AAAvC,OAAR;AACD,GAFD;;AAIA,SACE;AAAM,IAAA,QAAQ,EAAEd,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,IAFP;AAGE,IAAA,KAAK,EAAEN,KAAK,CAACD,EAHf;AAIE,IAAA,QAAQ,MAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,SAFP;AAGE,IAAA,KAAK,EAAEC,KAAK,CAACE,OAHf;AAIE,IAAA,QAAQ,EAAEe,QAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,EAaE;AAAU,IAAA,IAAI,EAAC,SAAf;AAAyB,IAAA,QAAQ,EAAEA,QAAnC;AAA6C,IAAA,KAAK,EAAEjB,KAAK,CAACG,OAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbF,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAdF,EAeE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAfF,CADF;AAmBD,CAjDD;;AAmDA,eAAeL,SAAf","sourcesContent":["import axios from \"axios\";\nimport globalVars from \"../library/globalVariables\";\nimport { useState, useEffect } from \"react\";\n\nconst EmailForm = ({ to }: any) => {\n  const [email, setEmail] = useState({ to, subject: \"\", message: \"\" });\n\n  useEffect(() => {\n    setEmail({...email, to: to})\n  }, [to]);\n\n  useEffect(() =>Â {\n    console.log(to);\n    console.log(email);\n  })\n\n  const sendEmail = async e => {\n    e.preventDefault();\n    const res = await axios({\n      method: \"post\",\n      data: email,\n      url: `${globalVars.serverURL}/emails/send`,\n      responseType: \"json\"\n    });\n    const data = await res.data;\n    data.msg === \"Success\"\n      ? alert(\"Your email has been succesfully sent.\")\n      : alert(\"Something went wrong!\");\n  };\n\n  const onChange = e => {\n    setEmail({ ...email, [e.target.name]: e.target.value });\n  };\n\n  return (\n    <form onSubmit={sendEmail}>\n      <input\n        type=\"text\"\n        name=\"to\"\n        value={email.to}\n        disabled\n      />\n      <input\n        type=\"text\"\n        name=\"subject\"\n        value={email.subject}\n        onChange={onChange}\n      />\n      <textarea name=\"message\" onChange={onChange} value={email.message} />\n      <button>Cancel</button>\n      <button type=\"submit\">Send</button>\n    </form>\n  );\n};\n\nexport default EmailForm;\n"]},"metadata":{},"sourceType":"module"}