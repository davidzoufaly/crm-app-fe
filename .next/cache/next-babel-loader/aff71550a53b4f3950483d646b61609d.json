{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/davidzoufaly/code/dp/crm-app-fe/pages/_app.tsx\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport App from \"next/app\";\nimport Head from \"next/head\";\nimport Router from \"next/router\";\nimport CountContext from \"../components/CountContext\";\nimport UserContext from \"../components/UserContext\";\nimport theme from \"../src/theme\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nexport default class MyApp extends App {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      counters: {\n        clientCounter: \"\",\n        emailsCounter: \"\",\n        fieldCounter: \"\"\n      },\n      user: {\n        userkey: \"\",\n        signedIn: false\n      }\n    });\n\n    _defineProperty(this, \"setUser\", userkey => {\n      this.setState(_objectSpread({}, this.state, {\n        user: _objectSpread({}, this.state.user, {\n          userkey,\n          signedIn: true\n        })\n      }));\n      this.getCounts();\n      sessionStorage.setItem(\"userkey\", this.state.user.userkey);\n      sessionStorage.setItem(\"signedIn\", this.state.user.signedIn.toString());\n      Router.query;\n      Router.push({\n        pathname: '/dashboard',\n        query: {\n          Api_KEY: this.state.user.userkey\n        }\n      });\n    });\n\n    _defineProperty(this, \"checkUser\", () => {\n      sessionStorage.getItem(\"signedIn\") === \"false\" ? Router.push(\"/\") : this.setState(_objectSpread({}, this.state, {\n        user: _objectSpread({}, this.state.user, {\n          userkey: sessionStorage.getItem(\"userkey\"),\n          signedIn: true\n        })\n      }));\n    });\n\n    _defineProperty(this, \"logoutUser\", () => {\n      this.setState(_objectSpread({}, this.state, {\n        user: _objectSpread({}, this.state.user, {\n          userkey: \"\",\n          signedIn: false\n        })\n      }), () => {\n        sessionStorage.setItem(\"userkey\", this.state.user.userkey);\n        sessionStorage.setItem(\"signedIn\", this.state.user.signedIn.toString());\n      });\n      Router.push(\"/\");\n    });\n  }\n\n  componentDidMount() {\n    const jssStyles = document.querySelector(\"#jss-server-side\");\n\n    if (jssStyles) {\n      jssStyles.parentNode.removeChild(jssStyles);\n    }\n\n    this.getCounts();\n  }\n\n  componentDidUpdate() {\n    console.log(this.state.user);\n  }\n\n  render() {\n    const {\n      Component,\n      pageProps\n    } = this.props;\n    return __jsx(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, __jsx(Head, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, __jsx(\"title\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"CRM APP\")), __jsx(UserContext.Provider, {\n      value: {\n        setUser: this.setUser,\n        logoutUser: this.logoutUser,\n        checkUser: this.checkUser,\n        user: this.state.user\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, __jsx(CountContext.Provider, {\n      value: this.state.counters,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, __jsx(ThemeProvider, {\n      theme: theme,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, __jsx(CssBaseline, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), __jsx(Component, _extends({}, pageProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/davidzoufaly/code/dp/crm-app-fe/pages/_app.tsx"],"names":["React","App","Head","Router","CountContext","UserContext","theme","ThemeProvider","CssBaseline","MyApp","counters","clientCounter","emailsCounter","fieldCounter","user","userkey","signedIn","setState","state","getCounts","sessionStorage","setItem","toString","query","push","pathname","Api_KEY","getItem","componentDidMount","jssStyles","document","querySelector","parentNode","removeChild","componentDidUpdate","console","log","render","Component","pageProps","props","setUser","logoutUser","checkUser"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport App from \"next/app\";\nimport Head from \"next/head\";\nimport Router from \"next/router\";\nimport axios from \"axios\";\nimport CountContext from \"../components/CountContext\";\nimport UserContext from \"../components/UserContext\";\nimport globalVars from \"../library/globalVariables\";\nimport theme from \"../src/theme\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nexport default class MyApp extends App {\n  state = {\n    counters: { clientCounter: \"\", emailsCounter: \"\", fieldCounter: \"\" },\n    user: {\n      userkey: \"\",\n      signedIn: false\n    }\n  };\n\n  componentDidMount() {\n    const jssStyles = document.querySelector(\"#jss-server-side\");\n    if (jssStyles) {\n      jssStyles.parentNode.removeChild(jssStyles);\n    }\n    this.getCounts();\n  }\n\n  setUser = userkey => {\n    this.setState({\n      ...this.state,\n      user: { ...this.state.user, userkey, signedIn: true }\n    });\n    this.getCounts();\n    sessionStorage.setItem(\"userkey\", this.state.user.userkey);\n    sessionStorage.setItem(\"signedIn\", this.state.user.signedIn.toString());\n    Router.query\n    Router.push({\n        pathname: '/dashboard',\n        query: { Api_KEY: this.state.user.userkey }\n    });\n  };\n\n  checkUser = () => {\n    sessionStorage.getItem(\"signedIn\") === \"false\"\n      ? Router.push(\"/\")\n      : this.setState({\n          ...this.state,\n          user: {\n            ...this.state.user,\n            userkey: sessionStorage.getItem(\"userkey\"),\n            signedIn: true\n          }\n        });\n  };\n\n  logoutUser = () => {\n    this.setState(\n      {\n        ...this.state,\n        user: { ...this.state.user, userkey: \"\", signedIn: false }\n      },\n      () => {\n        sessionStorage.setItem(\"userkey\", this.state.user.userkey);\n        sessionStorage.setItem(\"signedIn\", this.state.user.signedIn.toString());\n      }\n    );\n    Router.push(\"/\");\n  };\n\n  componentDidUpdate() {\n    console.log(this.state.user);\n  }\n\n  render() {\n    const { Component, pageProps } = this.props;\n\n    return (\n      <React.Fragment>\n        <Head>\n          <title>CRM APP</title>\n        </Head>\n        <UserContext.Provider\n          value={{\n            setUser: this.setUser,\n            logoutUser: this.logoutUser,\n            checkUser: this.checkUser,\n            user: this.state.user\n          }}\n        >\n          <CountContext.Provider value={this.state.counters}>\n            <ThemeProvider theme={theme}>\n              <CssBaseline />\n              <Component {...pageProps} />\n            </ThemeProvider>\n          </CountContext.Provider>\n        </UserContext.Provider>\n      </React.Fragment>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}