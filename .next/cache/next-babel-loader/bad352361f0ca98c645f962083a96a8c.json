{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/davidzoufaly/code/dp/crm-app-fe/components/EmailForm.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport axios from \"axios\";\nimport globalVars from \"../library/globalVariables\";\nimport { useState, useEffect } from \"react\";\n\nvar EmailForm = function EmailForm(_ref) {\n  var to = _ref.to;\n\n  var _useState = useState({\n    to: to,\n    subject: \"\",\n    message: \"\"\n  }),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  useEffect(function () {\n    console.log(email);\n  });\n\n  var sendEmail =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(e) {\n      var res, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.next = 3;\n              return axios({\n                method: \"post\",\n                data: email,\n                url: \"\".concat(globalVars.serverURL, \"/emails/send\"),\n                responseType: \"json\"\n              });\n\n            case 3:\n              res = _context.sent;\n              _context.next = 6;\n              return res.data;\n\n            case 6:\n              data = _context.sent;\n              data.msg === \"Success\" ? alert(\"Your email has been succesfully sent.\") : alert(\"Something went wrong!\");\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function sendEmail(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var onChange = function onChange(e) {\n    setEmail(_objectSpread({}, email, _defineProperty({}, e.target.name, e.target.value)));\n  };\n\n  var passive = function passive() {\n    return to.length > 0 ? true : false;\n  };\n\n  return __jsx(\"form\", {\n    onSubmit: sendEmail,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    name: \"to\",\n    onChange: onChange,\n    readOnly: passive,\n    value: email.to,\n    disabled: passive,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    type: \"text\",\n    name: \"subject\",\n    value: email.subject,\n    onChange: onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }), __jsx(\"textarea\", {\n    name: \"message\",\n    onChange: onChange,\n    value: email.message,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), __jsx(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Cancel\"), __jsx(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Send\"));\n};\n\nexport default EmailForm;","map":{"version":3,"sources":["/Users/davidzoufaly/code/dp/crm-app-fe/components/EmailForm.tsx"],"names":["axios","globalVars","useState","useEffect","EmailForm","to","subject","message","email","setEmail","console","log","sendEmail","e","preventDefault","method","data","url","serverURL","responseType","res","msg","alert","onChange","target","name","value","passive","length"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,OAAiB;AAAA,MAAdC,EAAc,QAAdA,EAAc;;AAAA,kBACPH,QAAQ,CAAC;AAAEG,IAAAA,EAAE,EAAFA,EAAF;AAAMC,IAAAA,OAAO,EAAE,EAAf;AAAmBC,IAAAA,OAAO,EAAE;AAA5B,GAAD,CADD;AAAA,MAC1BC,KAD0B;AAAA,MACnBC,QADmB;;AAGjCN,EAAAA,SAAS,CAAC,YAAM;AACdO,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACD,GAFQ,CAAT;;AAIA,MAAMI,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG,iBAAMC,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAChBA,cAAAA,CAAC,CAACC,cAAF;AADgB;AAAA,qBAEEd,KAAK,CAAC;AACtBe,gBAAAA,MAAM,EAAE,MADc;AAEtBC,gBAAAA,IAAI,EAAER,KAFgB;AAGtBS,gBAAAA,GAAG,YAAKhB,UAAU,CAACiB,SAAhB,iBAHmB;AAItBC,gBAAAA,YAAY,EAAE;AAJQ,eAAD,CAFP;;AAAA;AAEVC,cAAAA,GAFU;AAAA;AAAA,qBAQGA,GAAG,CAACJ,IARP;;AAAA;AAQVA,cAAAA,IARU;AAShBA,cAAAA,IAAI,CAACK,GAAL,KAAa,SAAb,GACIC,KAAK,CAAC,uCAAD,CADT,GAEIA,KAAK,CAAC,uBAAD,CAFT;;AATgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATV,SAAS;AAAA;AAAA;AAAA,KAAf;;AAcA,MAAMW,QAAQ,GAAG,SAAXA,QAAW,CAAAV,CAAC,EAAI;AACpBJ,IAAAA,QAAQ,mBAAMD,KAAN,sBAAcK,CAAC,CAACW,MAAF,CAASC,IAAvB,EAA8BZ,CAAC,CAACW,MAAF,CAASE,KAAvC,GAAR;AACD,GAFD;;AAIA,MAAMC,OAAO,GAAG,SAAVA,OAAU;AAAA,WAAOtB,EAAE,CAACuB,MAAH,GAAY,CAAZ,GAAgB,IAAhB,GAAuB,KAA9B;AAAA,GAAhB;;AAEA,SACE;AAAM,IAAA,QAAQ,EAAEhB,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,IAFP;AAGE,IAAA,QAAQ,EAAEW,QAHZ;AAIE,IAAA,QAAQ,EAAEI,OAJZ;AAKE,IAAA,KAAK,EAAEnB,KAAK,CAACH,EALf;AAME,IAAA,QAAQ,EAAEsB,OANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EASE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,SAFP;AAGE,IAAA,KAAK,EAAEnB,KAAK,CAACF,OAHf;AAIE,IAAA,QAAQ,EAAEiB,QAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAeE;AAAU,IAAA,IAAI,EAAC,SAAf;AAAyB,IAAA,QAAQ,EAAEA,QAAnC;AAA6C,IAAA,KAAK,EAAEf,KAAK,CAACD,OAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfF,EAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBF,EAiBE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAjBF,CADF;AAqBD,CAhDD;;AAkDA,eAAeH,SAAf","sourcesContent":["import axios from \"axios\";\nimport globalVars from \"../library/globalVariables\";\nimport { useState, useEffect } from \"react\";\n\nconst EmailForm = ({ to }: any) => {\n  const [email, setEmail] = useState({ to, subject: \"\", message: \"\" });\n\n  useEffect(() => {\n    console.log(email);\n  });\n\n  const sendEmail = async e => {\n    e.preventDefault();\n    const res = await axios({\n      method: \"post\",\n      data: email,\n      url: `${globalVars.serverURL}/emails/send`,\n      responseType: \"json\"\n    });\n    const data = await res.data;\n    data.msg === \"Success\"\n      ? alert(\"Your email has been succesfully sent.\")\n      : alert(\"Something went wrong!\");\n  };\n\n  const onChange = e => {\n    setEmail({ ...email, [e.target.name]: e.target.value });\n  };\n\n  const passive = () => (to.length > 0 ? true : false);\n\n  return (\n    <form onSubmit={sendEmail}>\n      <input\n        type=\"text\"\n        name=\"to\"\n        onChange={onChange}\n        readOnly={passive}\n        value={email.to}\n        disabled={passive}\n      />\n      <input\n        type=\"text\"\n        name=\"subject\"\n        value={email.subject}\n        onChange={onChange}\n      />\n      <textarea name=\"message\" onChange={onChange} value={email.message} />\n      <button>Cancel</button>\n      <button type=\"submit\">Send</button>\n    </form>\n  );\n};\n\nexport default EmailForm;\n"]},"metadata":{},"sourceType":"module"}