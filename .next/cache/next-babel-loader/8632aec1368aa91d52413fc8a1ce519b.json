{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/davidzoufaly/code/dp/crm-app-fe/components/EmailForm.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport axios from \"axios\";\nimport globalVars from \"../library/globalVariables\";\nimport { useState } from \"react\";\n\nvar EmailForm = function EmailForm(_ref) {\n  var to = _ref.to;\n\n  var _useState = useState({}),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var sendEmail =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var res, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios({\n                method: \"post\",\n                data: email,\n                url: \"\".concat(globalVars.serverURL, \"/emails/send\"),\n                responseType: \"json\"\n              });\n\n            case 2:\n              res = _context.sent;\n              data = res.data;\n              data.msg === \"Success\" ? alert(\"Your mail has been succesfully sent.\") : alert(\"Something went wrong!\");\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function sendEmail() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var onChange = function onChange(e) {\n    setEmail(_objectSpread({}, email, _defineProperty({}, e.target.name, e.target.value)));\n  };\n\n  return __jsx(\"form\", {\n    onSubmit: sendEmail,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    name: \"to\",\n    onChange: onChange,\n    readOnly: to === {} ? true : false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    type: \"text\",\n    name: \"subject\",\n    onChange: onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }), __jsx(\"textarea\", {\n    name: \"message\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }), __jsx(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, \"Cancel\"), __jsx(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, \"Send\"));\n};\n\nexport default EmailForm;","map":{"version":3,"sources":["/Users/davidzoufaly/code/dp/crm-app-fe/components/EmailForm.tsx"],"names":["axios","globalVars","useState","EmailForm","to","email","setEmail","sendEmail","method","data","url","serverURL","responseType","res","msg","alert","onChange","e","target","name","value"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,SAASC,QAAT,QAAyB,OAAzB;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,OAAgB;AAAA,MAAdC,EAAc,QAAdA,EAAc;;AAAA,kBACJF,QAAQ,CAAC,EAAD,CADJ;AAAA,MACvBG,KADuB;AAAA,MAChBC,QADgB;;AAG9B,MAAMC,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACIP,KAAK,CAAC;AACpBQ,gBAAAA,MAAM,EAAE,MADY;AAEpBC,gBAAAA,IAAI,EAAEJ,KAFc;AAGpBK,gBAAAA,GAAG,YAAKT,UAAU,CAACU,SAAhB,iBAHiB;AAIpBC,gBAAAA,YAAY,EAAE;AAJM,eAAD,CADT;;AAAA;AACRC,cAAAA,GADQ;AAORJ,cAAAA,IAPQ,GAODI,GAAG,CAACJ,IAPH;AAQdA,cAAAA,IAAI,CAACK,GAAL,KAAa,SAAb,GAAyBC,KAAK,CAAC,sCAAD,CAA9B,GAAyEA,KAAK,CAAC,uBAAD,CAA9E;;AARc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATR,SAAS;AAAA;AAAA;AAAA,KAAf;;AAWA,MAAMS,QAAQ,GAAG,SAAXA,QAAW,CAACC,CAAD,EAAO;AACpBX,IAAAA,QAAQ,mBAAKD,KAAL,sBAAaY,CAAC,CAACC,MAAF,CAASC,IAAtB,EAA8BF,CAAC,CAACC,MAAF,CAASE,KAAvC,GAAR;AACH,GAFD;;AAIA,SACI;AAAM,IAAA,QAAQ,EAAEb,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,IAAxB;AAA6B,IAAA,QAAQ,EAAES,QAAvC;AAAiD,IAAA,QAAQ,EAAEZ,EAAE,KAAK,EAAP,GAAY,IAAZ,GAAmB,KAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,SAAxB;AAAkC,IAAA,QAAQ,EAAEY,QAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAU,IAAA,IAAI,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,EAKI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALJ,CADJ;AASH,CA3BD;;AA6BA,eAAeb,SAAf","sourcesContent":["import axios from \"axios\";\nimport globalVars from \"../library/globalVariables\";\nimport { useState } from \"react\";\n\nconst EmailForm = ({to} : any) => {\n    const [email, setEmail] = useState({});\n\n    const sendEmail = async() => {\n        const res = await axios({\n            method: \"post\",\n            data: email,\n            url: `${globalVars.serverURL}/emails/send`,\n            responseType: \"json\"\n        })\n        const data = res.data;\n        data.msg === \"Success\" ? alert(\"Your mail has been succesfully sent.\") : alert(\"Something went wrong!\")\n    }\n\n    const onChange = (e) => {\n        setEmail({...email, [e.target.name] : e.target.value})\n    }\n\n    return (\n        <form onSubmit={sendEmail}>\n            <input type=\"text\" name=\"to\" onChange={onChange} readOnly={to === {} ? true : false} />\n            <input type=\"text\" name=\"subject\" onChange={onChange} />\n            <textarea name=\"message\" />\n            <button>Cancel</button>\n            <button type=\"submit\">Send</button>\n        </form>\n    )\n}\n\nexport default EmailForm;"]},"metadata":{},"sourceType":"module"}