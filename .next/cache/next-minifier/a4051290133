{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{\"/EDR\":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return a(\"23aj\")}])},\"23aj\":function(e,t,a){\"use strict\";a.r(t);var n=a(\"vYYK\"),r=a(\"q1tI\"),s=a.n(r),o=a(\"nOHt\"),i=a(\"ln6h\"),u=a.n(i),c=a(\"O40h\"),p=a(\"zrwo\"),l=a(\"vDqi\"),m=a.n(l),d=a(\"dRT2\"),g=a(\"r9w1\"),w=s.a.createElement,f=function(e){var t=e.onChange,a=e.text,n=e.value,r=e.type,o=e.title;return w(s.a.Fragment,null,w(g.a,{type:r,label:o,fullWidth:!0,margin:\"normal\",autoComplete:a,name:a,id:a,onChange:t,value:n}))},h=a(\"Z3vd\"),v=s.a.createElement,x=function(e){var t=e.onClick,a=e.text,n=e.variant;return v(h.a,{type:\"button\",color:\"primary\",variant:n,onClick:t},a)},C=a(\"j4kZ\"),b=a(\"a/jE\"),j=a(\"ZX7W\"),y=a(\"ofer\"),O=a(\"hlFM\"),k=s.a.createElement,E=function(){var e=Object(r.useState)({username:\"\",password:\"\"}),t=e[0],a=e[1],n=Object(r.useContext)(d.a),o=function(e){\"username\"===e.target.name?a(Object(p.a)({},t,{username:e.target.value})):a(Object(p.a)({},t,{password:e.target.value}))},i=function(){var e=Object(c.a)(u.a.mark(function e(){var a,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:\"POST\",data:t,url:\"\".concat(C.a.serverURL,\"/users/authenticate-user\"),responseType:\"json\"});case 2:return a=e.sent,e.next=5,a.data;case 5:\"Success\"===(r=e.sent).msg?n.setUser(r.key):alert(b.a.en.somethingWentWrong);case 7:case\"end\":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return k(s.a.Fragment,null,k(y.a,{component:\"h2\",variant:\"h4\",gutterBottom:!0},new j.a(b.a.en.login).firstCharUpperCase().getString()),k(\"form\",null,k(f,{onChange:o,type:\"text\",value:t.username,text:\"username\",title:new j.a(b.a.en.username).firstCharUpperCase().getString()}),k(f,{onChange:o,type:\"password\",value:t.password,text:\"password\",title:b.a.en.password}),k(O.a,{mt:\"2rem\",display:\"flex\",justifyContent:\"flex-end\"},k(x,{onClick:i,text:b.a.en.login,variant:\"contained\"}))))},S=s.a.createElement,T=function(e){var t=e.changeToLogin,a=Object(r.useState)({username:\"\",password:\"\",repeatPassword:\"\"}),o=a[0],i=a[1],l=function(e){i(Object(p.a)({},o,Object(n.a)({},e.target.name,e.target.value)))},d=function(){var e=Object(c.a)(u.a.mark(function e(){var a,n,r,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.username,n=o.password,e.next=3,m()({method:\"POST\",data:{username:a,password:n},url:\"\".concat(C.a.serverURL,\"/users\"),responseType:\"json\"});case 3:return r=e.sent,e.next=6,r.data;case 6:s=e.sent,e.t0=s.msg,e.next=e.t0===C.a.msgSuccess?10:\"Exist\"===e.t0?13:15;break;case 10:return alert(b.a.en.success),t(),e.abrupt(\"break\",16);case 13:return alert(b.a.en.userAlreadyExists),e.abrupt(\"break\",16);case 15:alert(b.a.en.somethingWentWrong);case 16:case\"end\":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return S(s.a.Fragment,null,S(y.a,{component:\"h2\",variant:\"h4\",gutterBottom:!0},new j.a(b.a.en.register).firstCharUpperCase().getString()),S(\"form\",null,S(f,{onChange:l,type:\"text\",value:o.username,text:\"username\",title:new j.a(b.a.en.username).firstCharUpperCase().getString()}),S(f,{onChange:l,type:\"password\",value:o.password,text:\"password\",title:b.a.en.password}),S(f,{onChange:l,type:\"password\",value:o.repeatPassword,text:\"repeatPassword\",title:new j.a(b.a.en.repeatPassword).firstCharUpperCase().getString()}),S(O.a,{display:\"flex\",justifyContent:\"flex-end\",mt:\"2rem\"},S(x,{onClick:function(){o.password===o.repeatPassword?d():alert(b.a.en.passwordsDoesNotMatch)},text:b.a.en.register,variant:\"contained\"}))))},P=a(\"R/WZ\"),R=a(\"ZBNC\"),W=a(\"tRbT\"),U=s.a.createElement,N=Object(P.a)(function(e){return Object(R.a)({formWrapper:Object(n.a)({marginTop:e.spacing(3),borderRadius:e.spacing(1),padding:e.spacing(3),boxShadow:e.shadows[1],backgroundColor:e.palette.grey[200],width:\"50%\"},e.breakpoints.down(\"sm\"),{width:\"100%\"}),textField:{marginTop:e.spacing(2)},container:{}})});t.default=function(){var e=Object(o.useRouter)(),t=Object(r.useState)(!0),a=t[0],n=t[1],s=N({});Object(r.useEffect)(function(){document.title=b.a.en.indexTitle},[e]);return U(O.a,{width:700,maxWidth:\"100%\",margin:\"auto\",className:s.container},U(O.a,{textAlign:\"center\"},U(y.a,{variant:\"h3\",component:\"h1\",gutterBottom:!0},\"CRM-APP\"),U(y.a,{variant:\"h5\",gutterBottom:!0},b.a.en.welcomeH1)),U(W.a,{container:!0,spacing:4,justify:\"center\"},U(W.a,{item:!0},U(x,{onClick:function(){return n(!1)},text:b.a.en.register,variant:\"outlined\"})),U(W.a,{item:!0},U(x,{onClick:function(){return n(!0)},text:b.a.en.login,variant:\"outlined\"}))),U(O.a,{className:s.formWrapper,margin:\"auto\"},a?U(E,null):U(T,{changeToLogin:function(){n(!0)}})))}}},[[\"/EDR\",1,0]]]);"}